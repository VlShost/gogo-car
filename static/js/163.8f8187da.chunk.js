"use strict";(self.webpackChunkgogo_car=self.webpackChunkgogo_car||[]).push([[163],{262:function(e,t,n){n.d(t,{Z:function(){return v}});var s=n(433),i=n(439),r=n(791),a={btn:"Button_btn__RBtNK"},l=n(184);function c(e){var t=e.text,n=e.onClick;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{className:a.btn,onClick:n,children:t})})}var d=n(164),o=n(87);function u(e){var t=e.split(", ");return{city:t[1],country:t[2]}}var h=n(561),m={backdrop:"Modal_backdrop__xTnIT",modalWindow:"Modal_modalWindow__CzUCW",accent:"Modal_accent__A4oOo",img:"Modal_img__20InI",closeBtn:"Modal_closeBtn__mlOa4",title:"Modal_title__3HkNf",tagsWrapper:"Modal_tagsWrapper__zOdvE",list:"Modal_list__EF-Lt",description:"Modal_description__zKB3H",subTitle:"Modal_subTitle__xAChn",rentalConditionsList:"Modal_rentalConditionsList__Lm-fH",callBtn:"Modal_callBtn__ODo1W"},_=document.querySelector("#modal-root");function x(e){var t=e.advert,n=e.toggleModal,s=t.address,i=t.img,a=t.id,c=t.year,x=t.make,p=t.model,j=t.type,f=t.fuelConsumption,v=t.engineSize,g=t.description,N=t.accessories,C=t.functionalities,k=t.rentalConditions,M=t.mileage,b=t.rentalPrice,y=u(s),W=k.split("\n"),Z=W[0].split(": "),w=b.split("$"),A=M.toLocaleString("en-US"),B=function(e){"Escape"===e.code&&n()};return(0,r.useEffect)((function(){return window.addEventListener("keydown",B),function(){window.addEventListener("keydown",B)}})),(0,d.createPortal)((0,l.jsx)("div",{className:m.backdrop,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,l.jsxs)("div",{className:m.modalWindow,children:[(0,l.jsx)("img",{className:m.img,src:i,alt:"alt"}),(0,l.jsx)("button",{className:m.closeBtn,onClick:n,children:(0,l.jsx)("svg",{width:24,height:24,children:(0,l.jsx)("use",{href:h.Z+"#cross"})})}),(0,l.jsxs)("h2",{className:m.title,children:[x," ",(0,l.jsx)("span",{className:m.accent,children:p}),", ",c]}),(0,l.jsxs)("div",{className:m.tagsWrapper,children:[(0,l.jsxs)("ul",{className:m.list,children:[(0,l.jsx)("li",{children:y.city}),(0,l.jsx)("li",{children:y.country}),(0,l.jsxs)("li",{children:["Id: ",a]}),(0,l.jsxs)("li",{children:["Year: ",c]}),(0,l.jsxs)("li",{children:["Type: ",j]})]}),(0,l.jsxs)("ul",{className:m.list,children:[(0,l.jsxs)("li",{children:["Fuel Consumption: ",f]}),(0,l.jsxs)("li",{children:["Engine Size: ",v]})]})]}),(0,l.jsx)("p",{className:m.description,children:g}),(0,l.jsx)("h3",{className:m.subTitle,children:"Accessories and functionalities:"}),(0,l.jsxs)("div",{className:m.tagsWrapper,children:[(0,l.jsx)("ul",{className:m.list,children:N.map((function(e){return(0,l.jsx)("li",{children:e},e)}))}),(0,l.jsx)("ul",{className:m.list,children:C.map((function(e){return(0,l.jsx)("li",{children:e},e)}))})]}),(0,l.jsx)("h3",{className:m.subTitle,children:"Rental Conditions: "}),(0,l.jsxs)("ul",{className:m.rentalConditionsList,children:[(0,l.jsxs)("li",{children:["Minimum age: ",(0,l.jsx)("span",{children:Z[1]})]}),(0,l.jsx)("li",{children:W[1]}),(0,l.jsx)("li",{children:W[2]}),(0,l.jsxs)("li",{children:["Mileage: ",(0,l.jsx)("span",{children:A})]}),(0,l.jsxs)("li",{children:["Price: ",(0,l.jsxs)("span",{children:[w,"$"]})]})]}),(0,l.jsx)(o.rU,{className:m.callBtn,to:"tel:+380730000000",children:"Rental car"})]})}),_)}var p={container:"AdvertCard_container__EEfh1",imgWrapper:"AdvertCard_imgWrapper__t7B3O",img:"AdvertCard_img__2ljDI",likeBtn:"AdvertCard_likeBtn__+M+sY",titleWrapper:"AdvertCard_titleWrapper__YcURU",titleModel:"AdvertCard_titleModel__7naIQ",model:"AdvertCard_model__Qr15y",rentalPrice:"AdvertCard_rentalPrice__8eed3",tagsWrapper:"AdvertCard_tagsWrapper__APVTG",list:"AdvertCard_list__1Tbhj"};function j(e){var t=e.advert,n=(0,r.useState)(!1),a=(0,i.Z)(n,2),d=a[0],o=a[1],m=(0,r.useState)((function(){return JSON.parse(localStorage.getItem("favorite"))||[]})),_=(0,i.Z)(m,2),j=_[0],f=_[1],v=j.some((function(e){return e.id===t.id})),g=function(){o(!d)},N=t.address,C=t.img,k=t.id,M=t.year,b=t.make,y=t.model,W=t.type,Z=t.functionalities,w=t.rentalCompany,A=t.rentalPrice,B=u(N);return(0,l.jsxs)("div",{className:p.container,children:[(0,l.jsx)("div",{className:p.imgWrapper,children:(0,l.jsx)("img",{className:p.img,src:C,alt:b+y+"Photo"})}),(0,l.jsx)("button",{className:p.likeBtn,onClick:function(){try{var e,n=JSON.parse(localStorage.getItem("favorite"))||[],i=n.some((function(e){return e.id===t.id}));e=i?n.filter((function(e){return e.id!==t.id})):[].concat((0,s.Z)(n),[t]),localStorage.setItem("favorite",JSON.stringify(e)),f(e)}catch(r){console.log(r.message)}},children:v?(0,l.jsx)("svg",{width:18,height:18,children:(0,l.jsx)("use",{href:h.Z+"#active"})}):(0,l.jsx)("svg",{width:18,height:18,children:(0,l.jsx)("use",{href:h.Z+"#heart"})})}),(0,l.jsxs)("div",{className:p.titleWrapper,children:[(0,l.jsxs)("div",{className:p.titleModel,children:[b,b.length<=5&&(0,l.jsxs)("span",{className:p.model,children:[" ",y]}),", ",M]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:p.rentalPrice,children:A})})]}),(0,l.jsxs)("div",{className:p.tagsWrapper,children:[(0,l.jsxs)("ul",{className:p.list,children:[(0,l.jsx)("li",{children:B.city}),(0,l.jsx)("li",{children:B.country}),(0,l.jsx)("li",{children:w})]}),(0,l.jsxs)("ul",{className:p.list,children:[(0,l.jsx)("li",{children:W}),(0,l.jsx)("li",{children:y}),(0,l.jsx)("li",{children:k}),(0,l.jsx)("li",{children:Z[0]})]})]}),(0,l.jsx)(c,{text:"Learn more",onClick:g}),d&&(0,l.jsx)(x,{toggleModal:g,advert:t})]})}var f={container:"AdvertsList_container__ZhqYE",list:"AdvertsList_list__vknfo"};function v(e){var t=e.adverts;return(0,l.jsx)("div",{className:f.container,children:t&&(0,l.jsx)("ul",{className:f.list,children:t.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(j,{advert:e})},e.id)}))})})}},163:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s,i=n(433),r=n(439),a=n(791),l=n(165),c=n(861),d=n(243);d.Z.defaults.baseURL="https://650564b4ef808d3c66effc0d.mockapi.io";var o=function(e){return(s=s||(0,c.Z)((0,l.Z)().mark((function e(t){var n,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/adverts?completed=false&page=".concat(t,"&limit=8"),e.next=4,d.Z.get(n);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)},u=n(262),h={container:"Catalog_container__6pGHS",loadMoreBtn:"Catalog_loadMoreBtn__JPvI9"},m=n(184);function _(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],l=(0,a.useState)(1),c=(0,r.Z)(l,2),d=c[0],_=c[1];(0,a.useEffect)((function(){o(d).then((function(e){s((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(e))}))}))}),[d]);return(0,m.jsxs)("section",{className:h.container,children:[(0,m.jsx)(u.Z,{adverts:n}),(0,m.jsx)("button",{className:h.loadMoreBtn,onClick:function(){_((function(e){return e+1}))},children:"Load more"})]})}}}]);
//# sourceMappingURL=163.8f8187da.chunk.js.map